<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Granada-SimbadTours</title>
    <!-- FONT AWESOME-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- FONT Bebas Neue-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <!--FONT Inter-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

    <!--Personalización CSS-->
    <link rel="stylesheet" href="css/destino_granada.css">

    <script>
        /** @type {HTMLElement}*/
        var posElt;
        /** @type {HTMLElement} */
        var posLinkElt;


        window.addEventListener('load', function(){
            posElt = document.getElementById('Pos');
            posLinkElt = document.querySelector('#PosLink > a');

            // if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(geoposOK, geoposKO);
            // }
            // else {
            // }
        });

        /** @param {GeolocationPosition} pos */
        function geoposOK(pos) {
            //Obtenemos latitud y longitud
            var lat = pos.coords.latitude;
            var long = pos.coords.longitude;
            //Mostramos la posición
            posElt.textContent = `${lat}, ${long}`;
            //generamos enlace a la posición
            posLinkElt.href = `https://maps.google.com/?q=${lat},${long}`;
            posLinkElt.textContent = 'Mostrar tu posición en un mapa';
        }

        /** @param {GeolocationPositionError} err */
        function geoposKO(err) {
            console.warn(err.message);
            let msg;
            switch(err.code) {
                case err.PERMISSION_DENIED:
                    msg = "No nos has dado permiso para obtener tu posición";
                    break;
                case err.POSITION_UNAVAILABLE:
                    msg = "Tu posición actual no está disponible";
                    break;
                 case err.TIMEOUT:
                     msg = "No se ha podido obtener tu posición en un tiempo prudencial";
                     break;
                 default:
                     msg = "Error desconocido";
                     break;
            }
            posElt.textContent = msg;
        }


    </script>
</head>
<body>
    
    <header class="presentacion">
        <div class="container">
            <nav class="nav-main" id="menu">
                <img src="img/Icono Simbad Tours.png" alt="SimbadTours LOGO" class="nav-logo">
                <ul class="nav-menu">
                    <li>
                        <a href="index.html">INICIO</a>
                    </li>
                    <li>
                       <a href="nosotros.html">NOSOTROS</a>
                   </li>
                   <li>
                       <a href="contacto.html">CONTACTO</a>
                   </li>
                   <li>
                       <a href="destinos.html">DESTINOS</a>
                   </li>
                   <li>
                       <a href="">SERVICIOS</a>
                       <ul>
                           <li><a href="">Renta de autos</a></li>
                           <li><a href="">Hotel</a></li>
                           <li><a href="">Paquetes Turísticos</a></li>
                       </ul>
                   </li>
                   <li>
                       <a href="cotizar.html">COTIZAR</a>
                   </li>
                </ul>
                <a href="#"><img src="img/estados-unidos.png" alt="Idioma Ingles" class="nav-ingles"></a>
                <a href="#"><img src="img/espana.png" alt="Idioma Español" class="nav-español"></a>
                <ul class="nav-menu-right">
                    <li>
                        <a href="#miModal">CREAR CUENTA</a>
                    </li>
                    <li>
                        <a href="#">MI CUENTA <i class="fas fa-user"></i> </a>
                    </li>
                </ul>
            </nav>
            <hr noshade color="#232b2d">
            <section class="presentacion-text">
                <h2 class="pt2">GRANADA</h2>
            </section>
        </div>
    </header>

    <div id="map"></div>
    <script src="js/api_mapa.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDaeWicvigtP9xPv919E-RNoxfvC-Hqik&callback=iniciarMap"></script>

    <div style="width:750px; margin:2em auto;">
        <h1>Ejemplo de uso de la API de geolocalización</h1>
        <p>Tu posición es: <span id="Pos">Desconocida</span></p>
        <p id="PosLink"><a target="_blank"></a></p>
    </div>
    
</body>
</html>